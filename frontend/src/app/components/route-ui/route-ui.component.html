<div>
  <div class="hi-kingz-sidebar">
    <mat-form-field>
      <input matInput placeholder="Name der Route" [(ngModel)]="route.name" [readonly]="readonly"/>
      <br/>
    </mat-form-field>

    <mat-form-field>
      <mat-select placeholder="Schwierigkeitsgrad" [(ngModel)]="route.difficulty" onselect="closeSelect()" [disabled]="readonly">
        <mat-option [value]="1" onselect="closeSelect()">EZ PZ</mat-option>
        <mat-option [value]="2">Einfach</mat-option>
        <mat-option [value]="3">Angemessen</mat-option>
        <mat-option [value]="4">Hart wie Schotter</mat-option>
        <mat-option [value]="5">Pilgerfahrt zur HÃ¶lle</mat-option>
      </mat-select>
    </mat-form-field>
    <br/>
    <mat-form-field>
      <textarea matInput placeholder="Beschreibung der Route" [(ngModel)]="route.description" [readonly]="readonly"></textarea>
      <br/>
    </mat-form-field>
    <br/>
      <mat-slide-toggle [(ngModel)]="route.isPublic" (change)="changePrivacy()" [disabled]="readonly">{{route_public_label}}</mat-slide-toggle>
    <br/>


    <button *ngIf="!readonly" mat-button value="Route speichern" (click)="saveRoute()" [disabled]="readonly">Route speichern</button>
  </div>
</div>
<div class="waypoints">
  <div class="waypoints_viewport">
    <mat-card matInput *ngFor="let wp of route.waypoints; let i = index">
      <mat-form-field>
        <input matInput [(ngModel)]="wp.name" [readonly]="readonly">
      </mat-form-field>
      <button mat-icon-button (click)="centerOn(i)"><mat-icon>explore</mat-icon></button>
      <button mat-icon-button (click)="deleteWaypointAt(i)"><mat-icon>delete</mat-icon></button>
    </mat-card>
  </div>
</div>
<app-map [route]="route" [readonly]="readonly"></app-map>

<fieldset>
  <legend>Medien</legend>

  <div class="mediablock" *ngFor="let file of route.files; let i = index">
    <img src="{{file.url}}" width="150" height="150" (click)="showImage(i)">
  </div>

  <div *ngIf="!readonly" class="fileinput mediablock">
    <button class="fileinputbutton"><a href="javascript: void(0)"><mat-icon class="upload_icon"><i class="material-icons upload_icon">backup</i> </mat-icon></a></button>
    <input type="file" name="routemedia" class="hiddenfile" (change)="fileChanged($event)">
  </div>
</fieldset>
